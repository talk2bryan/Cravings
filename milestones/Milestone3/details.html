<!DOCTYPE html>
<html>
<style>
	html, body {
		height: 100%;
		overflow: hidden;
	}

	body {
		font-family: "Arial",
		sans-serif;
		margin: 0px;
		padding: 0px;
		background-color: #f1f1f1;
	}
	
	a:link {
		text-decoration:none;
	}

	ul.tab {
		list-style-type: none;
		margin-left:20%;
		margin-right:20%;
		padding: 0;
		overflow: hidden;
		background-color: #f1f1f1;
		margin-bottom: 0px;
	}

	/* Float the list items side by side */
	ul.tab li {
		float: left;
	}

	/* Style the links inside the list items */
	ul.tab li a {
		display: inline-block;
		color: black;
		text-align: center;
		padding: 14px 16px;
		text-decoration: none;
		transition: 0.3s;
		font-size: 17px;
	}

	/* Change background color of links on hover */
	ul.tab li a:hover {
		background-color: #ddd;
	}

	/* Create an active/current tablink class */
	ul.tab li a:focus, .active {
		background-color: white;
	}

	/* Style the tab content */
	.tabcontent {
		display: none;
		padding: 6px 12px;
		border-style: none;
		margin-left:20%;
		margin-right:20%;
	}
	
	#header {
		background-color:FireBrick;
	}
	
	#logo {
		padding: 5px;
		height:100px;
	}
	
	#breadcrumb {
		margin-left: 5%;
	}
	
	#info {
		background-color: #f1f1f1;
		padding-bottom: 10px;
	}
	
	#rest-pic {
		height: 200px;
		width: 250px;
		float: left;
		border-style: none;
		background-size: cover;
		background-repeat: no-repeat;
		background-position: 50% 50%;

		padding-right: 15px;
		margin-left: 10%;
	}
	
	#name {
		
	}
	
	#rating { 
		height: 20px;
		//float: right;
	}
	
	#lower-third {
		height: 100%;
		background-color: white;
	}
</style>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.2/papaparse.js"></script>
</head>
<body>
	<div id="header">
		<img id="logo">
	</div>
	
	<p id="breadcrumb"></p>
	
	<div id="info">
		<img id="rest-pic" alt="restaurant front">
		<h1 id="name"></h1>
		<p id="address"></p>
		<p id="site-phone"></p>
		<p id="tag-price"></p>
		<img id="rating">
	</div>


	<ul class="tab">
	  <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'Menu')" id="defaultOpen">Menu</a></li>
	  <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'Reviews')">Reviews</a></li>
	  <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'Map')">Map</a></li>
	</ul>

	<div id="lower-third">
		<div id="Menu" class="tabcontent">
		  <h3>Menu</h3>
		  <p>This is where the menu goes.</p>
		</div>

		<div id="Reviews" class="tabcontent">
		  <h3>Reviews</h3>
		  <p>This is where reviews go.</p>
		</div>

		<div id="Map" class="tabcontent">
		  <h3>Map</h3>
		  <p>This is where a map goes.</p>
		</div>

	</div>	

	<script>
		$(document).ready(function(){
			var source = "https://raw.githubusercontent.com/talk2bryan/Cravings/master/milestones/Milestone3/resources";

			$("#logo").attr("src", "./resources/images/logo.png");			
			
			// load restaurant
			$.ajax({
				type: "GET",
				url: source + "/data.csv",
				success: function (data) {
					var bufferString = Papa.unparse(Papa.parse(data).data);
					var arr = bufferString.split('\n'); 
					
					var restList = [];
					var headers = arr[0].split(',');
					for(var i = 1; i < arr.length; i++) {
						var data = arr[i].split(',');
						var obj = {};
						for(var j = 0; j < data.length; j++) {
							obj[headers[j].trim()] = data[j].trim();
						}
						restList.push(obj);
					}
			
					var id = 43;
			
					// @TODO: load breadcrumb
					$('<a>',{
						text: "Home",
						title: 'Home',
						href: 'http://' + restList[id].website,
					}).appendTo('#breadcrumb');
					$("#breadcrumb").append(" > ");
					$('<a>',{
						text: restList[id].tag,
						title: 'Cuisine',
						href: 'http://' + restList[id].website,
					}).appendTo('#breadcrumb');
					$("#breadcrumb").append(" > " + restList[id].name);
					
					
					// load display
					$("#rest-pic").attr('src', restList[id].picture);
					$("#name").text(restList[id].name);
					$("#address").text(restList[id].address + " " + restList[id].city + ", " + restList[id].province + " " + restList[id].postalCode);
					$("#site-phone").text(restList[id].phone + "  |  ");
					$('<a>',{
						text: restList[id].website,
						title: 'Website',
						href: 'http://' + restList[id].website,
					}).appendTo('#site-phone');
						
					$("#tag-price").text(restList[id].tag + " - " + restList[id].price);
					$("#rating").attr("src", "./resources/images/" + restList[id].rating + ".png");
				}
			});
		});

		function openTab(evt, cityName) {
			var i, tabcontent, tablinks;
			tabcontent = document.getElementsByClassName("tabcontent");
			for (i = 0; i < tabcontent.length; i++) {
				tabcontent[i].style.display = "none";
			}
			tablinks = document.getElementsByClassName("tablinks");
			for (i = 0; i < tablinks.length; i++) {
				tablinks[i].className = tablinks[i].className.replace(" active", "");
			}
			document.getElementById(cityName).style.display = "block";
			evt.currentTarget.className += " active";
		}

		// Get the element with id="defaultOpen" and click on it
		document.getElementById("defaultOpen").click();
	</script>
     
</body>
</html>